import fetch from "node-fetch";

const handler = async (m, { conn, command }) => {
    try {
        let text = ''; // AquÃ­ puedes definir el texto que quieras enviar junto con la imagen o GIF
        let apiUrl = `https://api.waifu.pics/nsfw/${command.replace('s', '')}`;
        let jkis = await (await fetch(apiUrl)).json();
        let { url } = jkis;

        // EnvÃ­o del texto mencionando al usuario con la imagen o GIF
        conn.reply(m.chat, `
ðŸ¤¤ðŸ‘…ðŸ¥µ *ð€ð‚ð€ðð€ð’ ðƒð„ ð…ðŽð‹ð‹ð€ð‘ð“ð„ð‹@!*ðŸ¥µðŸ‘…ðŸ¤¤

*ð™ð™š ð™–ð™˜ð™–ð™—ð™–ð™¨ ð™™ð™š ð™›ð™¤ð™¡ð™¡ð™–ð™§ ð™– ð™¡ð™– ð™¥ð™šð™§ð™§ð™– ð™™ð™š* *${text}* â© *ð™– ðŸ° ð™¥ð™–ð™©ð™–ð™¨ ð™¢ð™žð™šð™£ð™©ð™§ð™–ð™¨ ð™©ð™š ð™œð™šð™¢ð™žð™– ð™˜ð™¤ð™¢ð™¤ ð™ªð™£ð™– ð™¢ð™–ð™¡ð™™ð™žð™©ð™– ð™¥ð™šð™§ð™§ð™– "ð€ðšðšð¡.., ð€ðšðšð¡ð¡, ð¬ð¢ð ð®ðž, ð§ð¨ ð©ðšð«ðžð¬, ð§ð¨ ð©ðšð«ðžð¬.." ð™® ð™¡ð™– ð™ð™–ð™¨ ð™™ð™šð™Ÿð™–ð™™ð™¤ ð™©ð™–ð™£ ð™§ð™šð™«ð™šð™£ð™©ð™–ð™™ð™– ð™¦ð™ªð™š ð™£ð™¤ ð™¥ð™ªð™šð™™ð™š ð™¨ð™¤ð™¨ð™©ð™šð™£ð™šð™§ ð™£ð™ž ð™¨ð™ª ð™¥ð™§ð™¤ð™¥ð™žð™¤ ð™˜ð™ªð™šð™§ð™¥ð™¤ ð™¡ð™– ð™¢ð™–ð™¡ð™™ð™žð™©ð™– ð™¯ð™¤ð™§ð™§ð™–!*

ðŸ¤¤ðŸ¥µ *Â¡ð˜ð€ ð“ð„ ð‡ð€ð ð…ðŽð‹ð‹ð€ðƒðŽ!* ðŸ¥µðŸ¤¤`, null, { mentions: [m.sender] });

        // EnvÃ­o de la imagen o GIF
        conn.sendFile(m.chat, url, '', '', m, false, { mimetype: 'image/gif' }); // Puedes ajustar el mimetype segÃºn el tipo de archivo que estÃ©s recibiendo de la API

    } catch {
        throw `*OcurriÃ³ un error inesperado*`;
    }
};

handler.help = ['follar', 'sneko', 'swaifu', 'sblowjob', 'strap'].map((v) => v + ' <@user>');
handler.tags = ['fun'];
handler.command = /^(follar|sneko|swaifu|sblowjob|strap)$/i;
handler.register = true;
export default handler;
